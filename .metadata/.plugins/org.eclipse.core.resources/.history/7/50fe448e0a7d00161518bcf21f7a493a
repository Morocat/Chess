#include "node.h"
#include "piece.h"
#include "object_type_db.h"
#include "tools/editor/plugins/canvas_item_editor_plugin.h"
#include "tools/editor/editor_settings.h"

#include "scene/main/viewport.h"

class ChessBoard : public Node {
	OBJ_TYPE(ChessBoard, Node);

	public:
		ChessBoard(){}
		ChessBoard(EditorNode* p_editor);
		String getHello();


	protected:
	    static void _bind_methods();

	private:
	    //Node * container;
	    Label* label;
	    EditorNode* _editor;

	    Piece boardState[8][8];
	    Piece pieceList[32];

	    void clearBoardState();
};

class modtest_editor_plugin : public EditorPlugin
{
  OBJ_TYPE(modtest_editor_plugin, EditorPlugin);

public:
  modtest_editor_plugin(EditorNode *p_editor);
  ~modtest_editor_plugin();

  virtual void make_visible(bool isVisible);
  virtual void edit(Object *p_node);
  virtual bool handles(Object *p_node) const;

private:
  EditorNode * _editor;
  ChessBoard* modtestEditor;
};
